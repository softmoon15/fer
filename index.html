<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untuk fer</title>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<style>
* { box-sizing: border-box; }
body {
  margin: 0; height: 100vh; font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(circle at top, #1c2b45, #0e1625);
  overflow: hidden; display: flex; justify-content: center; align-items: center;
  position: relative; transition: background 2s ease;
}

.falling-emoji {
  position: absolute; top: -50px; font-size: 24px;
  user-select: none; pointer-events: none; z-index: 0;
  animation: fall linear forwards;
}
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

@keyframes pulse-pink {
  0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(246, 135, 179, 0.7); }
  70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(246, 135, 179, 0); }
  100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(246, 135, 179, 0); }
}
.pulse-btn { animation: pulse-pink 2s infinite; margin-top: 15px !important; cursor: pointer; border-radius: 15px !important; }

.card {
  width: 95%; max-width: 420px; min-height: 520px;
  background: rgba(255, 255, 255, 0.12); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
  border-radius: 30px; 
  border: 2px solid #f687b3;
  padding: 25px; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.4);
  display: flex; flex-direction: column; justify-content: space-between; z-index: 10; color: white;
  transition: all 1s ease;
}

#game-container { display: none; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 20px auto; width: 100%; }
.memory-card {
  height: 85px; background: rgba(246, 135, 179, 0.2); border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 35px; color: transparent; cursor: pointer; transition: 0.4s; 
  border: 1px solid #f687b3;
}
.memory-card.flipped { background: white; color: initial; transform: rotateY(180deg); border: 2px solid #ff85a2; }

#text { font-size: 16px; line-height: 1.6; min-height: 160px; display: flex; align-items: center; justify-content: center; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
.big-text { font-size: 20px !important; font-weight: 700; color: #ff85a2; }

button {
  border: none; background: linear-gradient(135deg, #f687b3, #ff85a2);
  color: white; padding: 15px; border-radius: 20px; font-weight: 700;
  cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); font-size: 15px;
}

.visual-icon { font-size: 60px; animation: float 3s ease-in-out infinite; margin-top: 10px; }
.final-wrapper { display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 5px; padding: 10px 0; }
.foto-main, .foto-side { cursor: pointer; transition: 0.3s; }

.foto-main { width: 110px; height: 110px; border-radius: 20px; border: 3px solid #f687b3; object-fit: cover; }
.foto-side { width: 70px; height: 70px; border-radius: 15px; border: 2px solid #ff85a2; object-fit: cover; }

#secret-display { 
  font-size: 17px; font-weight: 800; color: #c2185b;
  min-height: 60px; margin: 10px 0; display: flex;
  align-items: center; justify-content: center; text-align: center;
  padding: 0 10px;
}

.footer-emojis { 
  margin-top: 10px; font-size: 18px; letter-spacing: 5px; opacity: 0.8;
  animation: blink 2s infinite;
}
@keyframes blink { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }

.foto-penutup {
  width: 150px; height: 150px; margin: 15px auto 0;
  border-radius: 15px; border: 5px solid #f687b3;
  padding: 0; background: white; object-fit: cover;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  cursor: pointer; transition: 0.3s;
}
.foto-penutup:active { transform: scale(0.95); }
</style>
</head>
<body>

<audio id="bgm" src="https://pomf2.lain.la/f/4e3et4.mp3" loop preload="auto"></audio>

<div class="card">
  <div id="content">
    <div id="visual-icon" class="visual-icon">üéÅ</div>
    <h2 id="title" style="font-size: 18px; color:white;">Ada kado buat fer..</h2>
    <div id="text" class="big-text"></div>
    <div id="sub-text" style="font-size: 13px; color: #ffeb3b; margin-top: 10px; min-height: 25px; opacity: 0; transition: 0.5s; font-style: italic;"></div>
    <div id="game-container">
      <div class="memory-card" data-symbol="üß∏">üß∏</div>
      <div class="memory-card" data-symbol="üê±">üê±</div>
      <div class="memory-card" data-symbol="üç≠">üç≠</div>
      <div class="memory-card" data-symbol="üß∏">üß∏</div>
      <div class="memory-card" data-symbol="üê±">üê±</div>
      <div class="memory-card" data-symbol="üç≠">üç≠</div>
    </div>
  </div>
  <button id="main-btn" onclick="startGame()">Buka Kado üåô</button>
</div>

<script>
const pages = [
  "U know me, right? sorry ya kalau aku tiba-tiba muncul dan ganggu waktu kamu sebentar. aku cuma mau bilang sesuatu yang mungkin selama ini cuma lewat di pikiran aja.",
  "Tentang Roblox... anggep aja itu kado kecil dari aku. robux nya delay 7 hari yaa, jadi sabar nunggunya hehee. maaf ya cuma bisa kasih segitu, tapi yang paling penting sebenarnya bukan itu kok..",
  "Bentar lagi kan mau puasa. jadi, aku sekeluarga mau minta maaf banget kalau selama ini aku ada salah, entah itu kata-kata atau sikapku yang pernah bikin kamu engga nyaman. aku beneran minta maaf yaa fer. üôè",
  "Jujur, keadaan lagi agak campur aduk sampai ortu suruh aku konsultasi ke psikiater. tapi tenang, aku engga bermaksud bikin kamu kepikiran. aku cuma pengen jujur aja sama apa yang aku alami sekarang.",
  "Aku janji setelah ini engga akan ganggu kamu lagi. aku pengen kamu tenang dan fokus sama hal-hal yang bikin kamu happy. Berbahagialah selalu yaa fer. kamu orang baik.. ‚ú®"
];

let pageIndex = 0;
let flippedCards = [];
let matchedCount = 0;
let typingInterval;

function createEmoji() {
  const emojis = ['üß∏', '‚ú®', '‚≠ê', '‚òÅÔ∏è', 'üåô'];
  const e = document.createElement('div');
  e.className = 'falling-emoji';
  e.innerText = emojis[Math.floor(Math.random() * emojis.length)];
  e.style.left = Math.random() * 100 + "vw";
  e.style.animationDuration = Math.random() * 3 + 2 + "s";
  document.body.appendChild(e);
  setTimeout(() => { e.remove(); }, 5000);
}
setInterval(createEmoji, 300);

function typeText(fullText, elementId, isBig) {
  clearInterval(typingInterval);
  let charIndex = 0;
  const textEl = document.getElementById(elementId);
  textEl.innerHTML = "";
  textEl.className = isBig ? "big-text" : "";
  typingInterval = setInterval(() => {
    if (charIndex < fullText.length) {
      textEl.innerHTML += fullText.charAt(charIndex);
      charIndex++;
    } else {
      clearInterval(typingInterval);
    }
  }, 45);
}

window.onload = () => { typeText("haii fer.. üëã main game sebentar yaa, biar kadonya kebukaüòã", "text", true); };

function startGame() {
  const music = document.getElementById("bgm");
  music.play().catch(e => {});
  
  document.getElementById("visual-icon").innerText = "ü´£";
  document.getElementById("title").innerText = "Samakan Kartunya!";
  document.getElementById("text").style.display = "none";
  document.getElementById("main-btn").style.display = "none";
  document.getElementById("game-container").style.display = "grid";
  shuffleCards();
}

function shuffleCards() {
  const container = document.getElementById("game-container");
  const cards = Array.from(container.children);
  cards.sort(() => Math.random() - 0.5);
  cards.forEach(card => { container.appendChild(card); card.addEventListener('click', flipCard); });
}

function flipCard() {
  if (flippedCards.length < 2 && !this.classList.contains('flipped')) {
    this.classList.add('flipped');
    flippedCards.push(this);
    if (flippedCards.length === 2) checkMatch();
  }
}

function checkMatch() {
  const [card1, card2] = flippedCards;
  if (card1.dataset.symbol === card2.dataset.symbol) {
    matchedCount++; flippedCards = [];
    if (matchedCount === 3) {
      confetti({ particleCount: 50, spread: 40, origin: { y: 0.7 } });
      setTimeout(() => {
        Swal.fire({title: 'Hore!', text: 'Permainan selesai! üê±', icon: 'success', confirmButtonColor: '#f687b3'});
        startMessage();
      }, 500);
    }
  } else {
    setTimeout(() => { card1.classList.remove('flipped'); card2.classList.remove('flipped'); flippedCards = []; }, 800);
  }
}

function startMessage() {
  document.getElementById("game-container").style.display = "none";
  document.getElementById("title").style.display = "none";
  document.getElementById("text").style.display = "flex";
  document.getElementById("visual-icon").innerText = "üåô";
  document.getElementById("main-btn").style.display = "block";
  showPage();
}

// Fungsi animasi surprise saat klik foto
function setMsg(t) {
  document.getElementById('secret-display').innerText = t;
  confetti({
    particleCount: 40,
    velocity: 25,
    spread: 50,
    origin: { y: 0.6 },
    colors: ['#f687b3', '#ff85a2', '#ffffff']
  });
}

function showPage() {
  typeText(pages[pageIndex], "text", false);
  const btn = document.getElementById("main-btn");
  const subText = document.getElementById("sub-text");
  
  if (pageIndex === 1) {
    setTimeout(() => {
      subText.innerHTML = "(Robux lagi dijalan... 7 hari lagi sampai! üöÄ)";
      subText.style.opacity = "1";
    }, 2000);
  } else {
    subText.style.opacity = "0";
  }

  if (pageIndex === pages.length - 1) {
    btn.innerText = "Klik buat kejutan! ‚ú®";
    btn.onclick = () => { 
        btn.style.display = "none"; 
        document.body.style.background = "linear-gradient(135deg, #fff5f5, #fed7e2)";
        const card = document.querySelector('.card');
        card.style.background = "rgba(255, 255, 255, 0.8)";
        card.style.color = "#4a148c";
        document.getElementById("text").style.display = "none";
        document.getElementById("visual-icon").style.display = "none";
        
        document.getElementById("content").innerHTML = `
          <div style="color:#4a148c; font-size: 20px; font-weight:bold; margin-bottom:10px;">Berbahagialah selalu yaa fer!</div>
          
          <div id="secret-display">coba deh klik fotonya.. üòã</div>
          
          <div class="final-wrapper">
            <img src="https://i.postimg.cc/zXhKFpyh/IMG-20260209-171856.jpg" class="foto-side" onclick="setMsg('Kamu manis banget.. ‚ú®')">
            <img src="https://i.postimg.cc/MTmw0CyX/IMG-20260209-163322.jpg" class="foto-main" onclick="setMsg('Cantiknya kelewatan! üß∏')">
            <img src="https://i.postimg.cc/MHb3cx24/caea47abc7076e5ff75672382af591c7.jpg" class="foto-side" onclick="setMsg('Gemes terus yaa.. üåô')">
          </div>
          
          <button class="pulse-btn" style="width:100%; padding:15px; background:#f687b3; color:white; border:none; margin-top:10px; font-weight:bold; font-size:16px;" onclick="window.location.href='https://wa.me/6281246848172?text=makasii kado dan pesannya, aku udah baca semuanya‚ú®'">chat aku di wa yaa</button>
          
          <div class="footer-emojis">üß∏‚ú®‚òÅÔ∏èüç≠üê±‚≠êüåô</div>
          <img src="https://i.postimg.cc/7hGngnPb/wtnotmle-e.jpg" class="foto-penutup" onclick="setMsg('Cuma mau bilang, kamu itu imut dan cantik banget. Stay as wonderful as you are yaa! ‚ú®')">
        `;
        
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
    };
  } else {
    btn.innerText = "Lanjut üåô";
    btn.onclick = () => { 
      pageIndex++; 
      showPage(); 
      document.getElementById("bgm").play().catch(e => {});
    };
  }
}
</script>
</body>
</html>

